class KoreaRegions
  # 서울특별시 + 경기도 구/시 정보 (자동 수집됨)
  REGIONS = {
    # 서울특별시 (25개 구)
    seoul: {
      name: '서울특별시',
      districts: {
'강남구' => {
  id: 8192,
  lat: 37.5174064636231,
  lng: 127.047309875488,
  description: '서울특별시 강남구',
  법정동코드: '1168000000',
  geohash: 'wydm'
},
'강동구' => {
  id: 8193,
  lat: 37.5301246643066,
  lng: 127.12377166748,
  description: '서울특별시 강동구',
  법정동코드: '1174000000',
  geohash: 'wydm'
},
'강북구' => {
  id: 8194,
  lat: 37.6397399902344,
  lng: 127.025489807129,
  description: '서울특별시 강북구',
  법정동코드: '1130500000',
  geohash: 'wydm'
},
'강서구' => {
  id: 8195,
  lat: 37.5509376525879,
  lng: 126.849639892578,
  description: '서울특별시 강서구',
  법정동코드: '1150000000',
  geohash: 'wydm'
},
'관악구' => {
  id: 8196,
  lat: 37.4781532287598,
  lng: 126.951484680176,
  description: '서울특별시 관악구',
  법정동코드: '1162000000',
  geohash: 'wydm'
},
'광진구' => {
  id: 8197,
  lat: 37.5386161804199,
  lng: 127.082374572754,
  description: '서울특별시 광진구',
  법정동코드: '1121500000',
  geohash: 'wydm'
},
'구로구' => {
  id: 8198,
  lat: 37.4954681396484,
  lng: 126.887542724609,
  description: '서울특별시 구로구',
  법정동코드: '1153000000',
  geohash: 'wydm'
},
'금천구' => {
  id: 8199,
  lat: 37.4570770263672,
  lng: 126.895698547363,
  description: '서울특별시 금천구',
  법정동코드: '1154500000',
  geohash: 'wydm'
},
'노원구' => {
  id: 8200,
  lat: 37.654354095459,
  lng: 127.05647277832,
  description: '서울특별시 노원구',
  법정동코드: '1135000000',
  geohash: 'wydm'
},
'도봉구' => {
  id: 8201,
  lat: 37.6687698364258,
  lng: 127.047164916992,
  description: '서울특별시 도봉구',
  법정동코드: '1132000000',
  geohash: 'wydm'
},
'동대문구' => {
  id: 8202,
  lat: 37.5744934082031,
  lng: 127.039764404297,
  description: '서울특별시 동대문구',
  법정동코드: '1123000000',
  geohash: 'wydm'
},
'동작구' => {
  id: 8203,
  lat: 37.512451171875,
  lng: 126.939498901367,
  description: '서울특별시 동작구',
  법정동코드: '1159000000',
  geohash: 'wydm'
},
'마포구' => {
  id: 8204,
  lat: 37.5663261413574,
  lng: 126.901489257812,
  description: '서울특별시 마포구',
  법정동코드: '1144000000',
  geohash: 'wydm'
},
'서대문구' => {
  id: 8205,
  lat: 37.5792236328125,
  lng: 126.936798095703,
  description: '서울특별시 서대문구',
  법정동코드: '1141000000',
  geohash: 'wydm'
},
'서초구' => {
  id: 8206,
  lat: 37.4835624694824,
  lng: 127.032592773438,
  description: '서울특별시 서초구',
  법정동코드: '1165000000',
  geohash: 'wydm'
},
'성동구' => {
  id: 8207,
  lat: 37.5634765625,
  lng: 127.036834716797,
  description: '서울특별시 성동구',
  법정동코드: '1120000000',
  geohash: 'wydm'
},
'성북구' => {
  id: 8208,
  lat: 37.5893974304199,
  lng: 127.016746520996,
  description: '서울특별시 성북구',
  법정동코드: '1129000000',
  geohash: 'wydm'
},
'송파구' => {
  id: 8209,
  lat: 37.514591217041,
  lng: 127.105865478516,
  description: '서울특별시 송파구',
  법정동코드: '1171000000',
  geohash: 'wydm'
},
'양천구' => {
  id: 8210,
  lat: 37.5170097351074,
  lng: 126.866645812988,
  description: '서울특별시 양천구',
  법정동코드: '1147000000',
  geohash: 'wydm'
},
'영등포구' => {
  id: 8211,
  lat: 37.5264320373535,
  lng: 126.896011352539,
  description: '서울특별시 영등포구',
  법정동코드: '1156000000',
  geohash: 'wydm'
},
'용산구' => {
  id: 8212,
  lat: 37.532527923584,
  lng: 126.99048614502,
  description: '서울특별시 용산구',
  법정동코드: '1117000000',
  geohash: 'wydm'
},
'은평구' => {
  id: 8213,
  lat: 37.6027793884277,
  lng: 126.929161071777,
  description: '서울특별시 은평구',
  법정동코드: '1138000000',
  geohash: 'wydm'
},
'종로구' => {
  id: 8214,
  lat: 37.5730247497559,
  lng: 126.979637145996,
  description: '서울특별시 종로구',
  법정동코드: '1111000000',
  geohash: 'wydm'
},
'중구' => {
  id: 8215,
  lat: 37.5638427734375,
  lng: 126.997596740723,
  description: '서울특별시 중구',
  법정동코드: '1114000000',
  geohash: 'wydm'
},
'중랑구' => {
  id: 8216,
  lat: 37.6063232421875,
  lng: 127.092582702637,
  description: '서울특별시 중랑구',
  법정동코드: '1126000000',
  geohash: 'wydm'
},
  }
},

# 경기도 (48개 시/구)
gyeonggi: {
  name: '경기도',
  districts: {
'수원시 영통구' => {
  id: 8238,
  lat: 37.2596015930176,
  lng: 127.046524047852,
  description: '경기도 수원시 영통구',
  법정동코드: '4111700000',
  geohash: 'wydm'
},
'수원시 팔달구' => {
  id: 8237,
  lat: 37.282528,
  lng: 127.019865,
  description: '경기도 수원시 팔달구',
  법정동코드: '4111500000',
  geohash: 'wydm'
},
'수원시 장안구' => {
  id: 8235,
  lat: 37.3040428161621,
  lng: 127.010108947754,
  description: '경기도 수원시 장안구',
  법정동코드: '4111100000',
  geohash: 'wydm'
},
'수원시 권선구' => {
  id: 8236,
  lat: 37.2576065063476,
  lng: 126.971893310547,
  description: '경기도 수원시 권선구',
  법정동코드: '4111300000',
  geohash: 'wydm'
},
'성남시 분당구' => {
  id: 8241,
  lat: 37.3828201293945,
  lng: 127.118927001953,
  description: '경기도 성남시 분당구',
  법정동코드: '4113500000',
  geohash: 'wydm'
},
'성남시 수정구' => {
  id: 8239,
  lat: 37.4503974914551,
  lng: 127.145629882812,
  description: '경기도 성남시 수정구',
  법정동코드: '4113100000',
  geohash: 'wydm'
},
'성남시 중원구' => {
  id: 8240,
  lat: 37.4305229187012,
  lng: 127.13720703125,
  description: '경기도 성남시 중원구',
  법정동코드: '4113300000',
  geohash: 'wydm'
},
'용인시 기흥구' => {
  id: 8265,
  lat: 37.2804489135742,
  lng: 127.11466217041,
  description: '경기도 용인시 기흥구',
  법정동코드: '4146300000',
  geohash: 'wydm'
},
'용인시 수지구' => {
  id: 8266,
  lat: 37.3221702575684,
  lng: 127.098045349121,
  description: '경기도 용인시 수지구',
  법정동코드: '4146500000',
  geohash: 'wydm'
},
'용인시 처인구' => {
  id: 8264,
  lat: 37.2343482971191,
  lng: 127.201347351074,
  description: '경기도 용인시 처인구',
  법정동코드: '4146100000',
  geohash: 'wydm'
},
'고양시 덕양구' => {
  id: 8253,
  lat: 37.6374320983887,
  lng: 126.832359313965,
  description: '경기도 고양시 덕양구',
  법정동코드: '4128100000',
  geohash: 'wydm'
},
'고양시 일산동구' => {
  id: 8254,
  lat: 37.6587829589844,
  lng: 126.775146484375,
  description: '경기도 고양시 일산동구',
  법정동코드: '4128500000',
  geohash: 'wydm'
},
'고양시 일산서구' => {
  id: 8255,
  lat: 37.6750869750977,
  lng: 126.750701904297,
  description: '경기도 고양시 일산서구',
  법정동코드: '4128700000',
  geohash: 'wydm'
},
'안양시 동안구' => {
  id: 8244,
  lat: 37.3925743103027,
  lng: 126.951354980469,
  description: '경기도 안양시 동안구',
  법정동코드: '4117300000',
  geohash: 'wydm'
},
'안양시 만안구' => {
  id: 8243,
  lat: 37.3866500854492,
  lng: 126.932327270508,
  description: '경기도 안양시 만안구',
  법정동코드: '4117100000',
  geohash: 'wydm'
},
'안산시 단원구' => {
  id: 8252,
  lat: 37.3195991516113,
  lng: 126.81217956543,
  description: '경기도 안산시 단원구',
  법정동코드: '4127300000',
  geohash: 'wydm'
},
'안산시 상록구' => {
  id: 8251,
  lat: 37.3012237548828,
  lng: 126.844703674316,
  description: '경기도 안산시 상록구',
  법정동코드: '4127100000',
  geohash: 'wydm'
},
'부천시' => {
  id: 8245,
  lat: 37.503373,
  lng: 126.765992,
  description: '경기도 부천시',
  법정동코드: '4119000000',
  geohash: 'wydm'
},
'부천시 소사구' => {
  id: 9163,
  lat: 37.4745342502,
  lng: 126.7903304121,
  description: '경기도 부천시 소사구',
  법정동코드: '4119400000',
  geohash: 'wydm'
},
'부천시 소사구' => {
  id: 9174,
  lat: 37.4745342502,
  lng: 126.7903304121,
  description: '경기도 부천시 소사구',
  법정동코드: '4119400000',
  geohash: 'wydm'
},
'부천시 오정구' => {
  id: 9164,
  lat: 37.5300694918,
  lng: 126.792792244,
  description: '경기도 부천시 오정구',
  법정동코드: '4119600000',
  geohash: 'wydm'
},
'부천시 오정구' => {
  id: 9175,
  lat: 37.5300694918,
  lng: 126.792792244,
  description: '경기도 부천시 오정구',
  법정동코드: '4119600000',
  geohash: 'wydm'
},
'부천시 원미구' => {
  id: 9162,
  lat: 37.5022592071,
  lng: 126.7825649121,
  description: '경기도 부천시 원미구',
  법정동코드: '4119200000',
  geohash: 'wydm'
},
'부천시 원미구' => {
  id: 9173,
  lat: 37.5022592071,
  lng: 126.7825649121,
  description: '경기도 부천시 원미구',
  법정동코드: '4119200000',
  geohash: 'wydm'
},
'광명시' => {
  id: 8248,
  lat: 37.4786186218262,
  lng: 126.864646911621,
  description: '경기도 광명시',
  법정동코드: '4121000000',
  geohash: 'wydm'
},
'평택시' => {
  id: 8249,
  lat: 36.9923667907715,
  lng: 127.112762451172,
  description: '경기도 평택시',
  법정동코드: '4122000000',
  geohash: 'wydm'
},
'과천시' => {
  id: 8256,
  lat: 37.42919921875,
  lng: 126.987640380859,
  description: '경기도 과천시',
  법정동코드: '4129000000',
  geohash: 'wydm'
},
'구리시' => {
  id: 8257,
  lat: 37.5942611694336,
  lng: 127.129638671875,
  description: '경기도 구리시',
  법정동코드: '4131000000',
  geohash: 'wydm'
},
'남양주시' => {
  id: 8258,
  lat: 37.6359825134277,
  lng: 127.216468811035,
  description: '경기도 남양주시',
  법정동코드: '4136000000',
  geohash: 'wydm'
},
'의정부시' => {
  id: 8242,
  lat: 37.7380790710449,
  lng: 127.033767700195,
  description: '경기도 의정부시',
  법정동코드: '4115000000',
  geohash: 'wydm'
},
'하남시' => {
  id: 8263,
  lat: 37.5393028259277,
  lng: 127.214874267578,
  description: '경기도 하남시',
  법정동코드: '4145000000',
  geohash: 'wydm'
},
'김포시' => {
  id: 8270,
  lat: 37.6152648925781,
  lng: 126.715621948242,
  description: '경기도 김포시',
  법정동코드: '4157000000',
  geohash: 'wydm'
},
'시흥시' => {
  id: 8260,
  lat: 37.3801727294922,
  lng: 126.802940368652,
  description: '경기도 시흥시',
  법정동코드: '4139000000',
  geohash: 'wydm'
},
'군포시' => {
  id: 8261,
  lat: 37.3616104125977,
  lng: 126.935333251953,
  description: '경기도 군포시',
  법정동코드: '4141000000',
  geohash: 'wydm'
},
'의왕시' => {
  id: 8262,
  lat: 37.3448867797851,
  lng: 126.968276977539,
  description: '경기도 의왕시',
  법정동코드: '4143000000',
  geohash: 'wydm'
},
'화성시' => {
  id: 8271,
  lat: 37.1995658874512,
  lng: 126.831405639648,
  description: '경기도 화성시',
  법정동코드: '4159000000',
  geohash: 'wydm'
},
'파주시' => {
  id: 8267,
  lat: 37.7599487304687,
  lng: 126.779823303223,
  description: '경기도 파주시',
  법정동코드: '4148000000',
  geohash: 'wydm'
},
'이천시' => {
  id: 8268,
  lat: 37.2725219726562,
  lng: 127.435134887695,
  description: '경기도 이천시',
  법정동코드: '4150000000',
  geohash: 'wydm'
},
'안성시' => {
  id: 8269,
  lat: 37.0080184936523,
  lng: 127.279693603516,
  description: '경기도 안성시',
  법정동코드: '4155000000',
  geohash: 'wydm'
},
'포천시' => {
  id: 8274,
  lat: 37.8948669433594,
  lng: 127.200241088867,
  description: '경기도 포천시',
  법정동코드: '4165000000',
  geohash: 'wydm'
},
'양주시' => {
  id: 8273,
  lat: 37.7851905822754,
  lng: 127.04606628418,
  description: '경기도 양주시',
  법정동코드: '4163000000',
  geohash: 'wydm'
},
'남양주시' => {
  id: 8258,
  lat: 37.6359825134277,
  lng: 127.216468811035,
  description: '경기도 남양주시',
  법정동코드: '4136000000',
  geohash: 'wydm'
},
'여주시' => {
  id: 8441,
  lat: 37.298248291015625,
  lng: 127.63721466064452,
  description: '경기도 여주시',
  법정동코드: '4167000000',
  geohash: 'wydm'
},
'연천군' => {
  id: 8275,
  lat: 38.096736907959,
  lng: 127.074760437012,
  description: '경기도 연천군',
  법정동코드: '4180000000',
  geohash: 'wydm'
},
'가평군' => {
  id: 8276,
  lat: 37.8315086364746,
  lng: 127.509544372559,
  description: '경기도 가평군',
  법정동코드: '4182000000',
  geohash: 'wydm'
},
'양평군' => {
  id: 8277,
  lat: 37.4917945861816,
  lng: 127.487609863281,
  description: '경기도 양평군',
  법정동코드: '4183000000',
  geohash: 'wydm'
},
'오산시' => {
  id: 8259,
  lat: 37.1498908996582,
  lng: 127.077461242676,
  description: '경기도 오산시',
  법정동코드: '4137000000',
  geohash: 'wydm'
},
'동두천시' => {
  id: 8250,
  lat: 37.9036598205566,
  lng: 127.060668945312,
  description: '경기도 동두천시',
  법정동코드: '4125000000',
  geohash: 'wydm'
},
      }
    }
  }.freeze

  # 중심 좌표로부터 경계 좌표 계산 (줌 레벨 기반)
  def self.calculate_bounds(center_lat, center_lng, zoom_level = 13)
    # 줌 레벨에 따른 반경 계산 (대략적)
    radius = case zoom_level
             when 13 then 0.05    # 약 5km 반경
             when 12 then 0.1     # 약 10km 반경
             when 11 then 0.2     # 약 20km 반경
             else 0.05
             end

    {
      geohash: 'wydm',  # 서울/경기 공통
      lat_south: center_lat - radius,
      lat_north: center_lat + radius,
      lng_west: center_lng - radius,
      lng_east: center_lng + radius,
      center_lat: center_lat,
      center_lng: center_lng
    }
  end

  # 지역별 경계 좌표 반환
  def self.get_region_bounds(region, district)
    region_data = REGIONS[region.to_sym]
    return nil unless region_data

    district_data = region_data[:districts][district]
    return nil unless district_data

    calculate_bounds(
      district_data[:lat],
      district_data[:lng],
      13  # 기본 줌 레벨
    )
  end

  # 모든 지역 목록 반환
  def self.all_districts
    result = []
    REGIONS.each do |region_key, region_data|
      region_data[:districts].each do |district_name, district_data|
        result << {
          region: region_data[:name],
          district: district_name,
          full_name: district_data[:description],
          bounds: calculate_bounds(district_data[:lat], district_data[:lng])
        }
      end
    end
    result
  end

  # 특정 지역의 모든 구/시 반환
  def self.districts_for_region(region)
    region_data = REGIONS[region.to_sym]
    return [] unless region_data

    region_data[:districts].keys
  end

  # 지역 검색 (자동완성용)
  def self.search_districts(query)
    all_districts.select do |district|
      district[:district].include?(query) ||
      district[:full_name].include?(query)
    end
  end
end
